{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d7da189462630fb07565","webpack:///./src/parse/index.js","webpack:///./src/data/index.js","webpack:///./src/observe/index.js","webpack:///./src/dom/index.js","webpack:///./src/message/index.js","webpack:///./src/index.js","webpack:///./src/event/index.js","webpack:///./src/item/index.js"],"names":["singleTag","syntax","parseDOM","str","el","document","createElement","innerHTML","childNodes","readTag","startIndex","res","i","tag","end","parseHake","nowTag","tmpTag","inString","push","length","pop","test","DataBlock","origin","related","gen","tmp","blindThis","parseInt","generate","Function","parseData","parse","dataReg","ATTR","TEXT","dataHash","hash","ch","charCodeAt","toString","hasData","dataSearch","children","querySelectorAll","j","attributes","type","target","attrName","name","data","value","nodeName","nodeValue","dataBind","sArr","dataMap","forEach","e","hasOwnProperty","dataObserve","object","key","val","dataDiff","oldData","newData","diff","apply","obj","callback","top","__obj","Object","assign","Array","array","defineProperty","get","set","pValue","btw","a","b","OArray","undefined","prototype","fill","start","s","reverse","len","shift","toArray","arr","modifiedByArray","splice","arguments","unshift","observe","getOne","selector","querySelector","getAll","getAttr","getAttribute","getAttrs","attribute","addClass","className","indexOf","removeClass","replace","toggleClass","dom","msgStack","error","msg","console","warn","message","Hake","_name","_version","event","item","eventpool","__addListener","isFake","__removeListener","addEvent","addEventListener","trigEvent","dispatchEvent","Event","removeEvent","removeEventListener","defaultOption","shadowDOM","isRoot","isHake","created","rendered","mounted","updated","destroyed","HakeItem","option","config","__content","content"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA;;;;;AAKA;;;;;;AAMA,IAAMA,YAAY,qFAAlB;;AAEA;;;;;;AAMA,IAAMC,SAAS,kCAAf;;AAEA;;;;;;AAMA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACrB,MAAIC,KAAKC,SAASC,aAAT,CAAuB,KAAvB,CAAT;;AAEAF,KAAGG,SAAH,GAAeJ,GAAf;AACA,SAAOC,GAAGI,UAAH,CAAc,CAAd,CAAP;AACD;;AAED;;;;;;;AAOA,SAASC,OAAT,CAAiBC,UAAjB,EAA6BP,GAA7B,EAAkC;AAChC,MAAIQ,MAAM,EAAV;AAAA,MAAcC,UAAd;;AAEA,OAAKA,IAAIF,UAAT,EAAqBP,IAAIS,CAAJ,MAAW,GAAX,IAAkBT,IAAIS,CAAJ,MAAW,GAA7B,IAAoCT,IAAIS,CAAJ,MAAW,GAApE,EAAyEA,KAAK,CAA9E,EAAiF;AAC/ED,WAAOR,IAAIS,CAAJ,CAAP;AACD;;AAED,SAAO,EAACC,KAAKF,GAAN,EAAWG,KAAKX,IAAIS,CAAJ,CAAhB,MAA2B,KAAlC;AACD;;AAED;;;;;;AAMA,SAASG,SAAT,CAAmBZ,GAAnB,EAAwB;AACtB,MAAIQ,MAAM,EAAV;AAAA,MAAcK,SAAS,EAAvB;AAAA,MAA2BC,eAA3B;AAAA,MAAmCC,WAAW,EAA9C;;AAEA,OAAK,IAAIN,IAAI,CAAb,EAAgBT,IAAIS,CAAJ,CAAhB,EAAwBA,GAAxB,EAA6B;AAC3B,YAAQT,IAAIS,CAAJ,CAAR;AACE,WAAK,GAAL;AACEI,eAAOG,IAAP,CAAYV,QAAQG,IAAI,CAAZ,EAAeT,GAAf,CAAZ;AACA,YAAIa,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BN,GAA1B,KAAkC,GAAtC,EAA2C;AACzCH,iBAAO,MAAMK,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BP,GAAhC,GAAsC,GAA7C;AACAD,eAAKI,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BP,GAA1B,CAA8BO,MAA9B,GAAuC,CAA5C;AACD,SAHD,MAGO,IAAIJ,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BN,GAA1B,KAAkC,GAAtC,EAA2C;AAChDH,iBAAO,MAAMK,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BP,GAAhC,GAAsC,GAA7C;AACAD,eAAKI,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BP,GAA1B,CAA8BO,MAAnC;AACD,SAHM,MAGAT,OAAO,GAAP;AACP;AACF,WAAK,GAAL;AACEM,iBAASD,OAAOK,GAAP,EAAT;AACAV,eAAOX,UAAUsB,IAAV,CAAeL,OAAOJ,GAAtB,IAA6B,IAA7B,GAAqC,QAAQI,OAAOJ,GAAf,GAAqB,GAAjE;AACA;AACF,WAAK,GAAL;AACE,YAAIK,aAAa,GAAjB,EAAsB;AACpBA,qBAAW,EAAX;AACD,SAFD,MAEO,IAAI,CAACA,QAAL,EAAe;AACpBA,qBAAW,GAAX;AACD;AACDP,eAAOR,IAAIS,CAAJ,CAAP;AACA;AACF,WAAK,IAAL;AACE,YAAIM,aAAa,IAAjB,EAAuB;AACrBA,qBAAW,EAAX;AACD,SAFD,MAEO,IAAI,CAACA,QAAL,EAAe;AACpBA,qBAAW,IAAX;AACD;AACDP,eAAOR,IAAIS,CAAJ,CAAP;AACA;AACF,WAAK,GAAL;AACE,YAAI,CAACM,QAAL,EAAe;AACb,cAAIf,IAAIS,IAAI,CAAR,MAAe,GAAnB,EAAwB;AACtBA;AACAD,mBAAO,IAAP;AACD,WAHD,MAGO;AACLA,mBAAO,GAAP;AACD;AACF,SAPD,MAOOA,OAAOR,IAAIS,CAAJ,CAAP;AACP;AACF,WAAK,GAAL;AACE,YAAI,CAACM,QAAL,EAAe;AACb,cAAIf,IAAIS,IAAI,CAAR,MAAe,GAAnB,EAAwB;AACtBA;AACAD,mBAAO,IAAP;AACD,WAHD,MAGO;AACL,gBAAIK,OAAOA,OAAOI,MAAP,GAAgB,CAAvB,EAA0BN,GAA1B,KAAkC,GAAtC,EAA2C;AACzCH,qBAAO,GAAP;AACAC;AACD,aAHD,MAGO;AACLD,qBAAO,GAAP;AACD;AACF;AACF,SAZD,MAYOA,OAAOR,IAAIS,CAAJ,CAAP;AACP;AACF,WAAK,IAAL;AACET,YAAIS,CAAJ,MAAW,GAAX,IAAkBT,QAAQ,GAA1B,IAAiCS,GAAjC;AACAD,eAAOR,IAAIS,CAAJ,CAAP;AACA;AACF;AACED,eAAOR,IAAIS,CAAJ,CAAP;AACA;AA9DJ;AAgED;;AAED,SAAOV,SAASS,GAAT,CAAP;AACD;;AAED;;;;;;AAMA,SAASY,SAAT,CAAmBpB,GAAnB,EAAwB;AACtB,OAAKqB,MAAL,GAAcrB,GAAd;AACA,OAAKsB,OAAL,GAAe,EAAf;AACA,MAAIC,MAAM,EAAV;AACA,MAAIC,MAAM,EAAV;AACA,MAAIC,YAAY,KAAhB;;AAEA,OAAK,IAAIhB,IAAI,CAAb,EAAgBT,IAAIS,CAAJ,CAAhB,EAAwBA,KAAK,CAA7B,EAAgC;AAC9B,QAAI,CAACX,OAAOqB,IAAP,CAAYnB,IAAIS,CAAJ,CAAZ,CAAL,EAA0B;AACxBe,aAAOxB,IAAIS,CAAJ,CAAP;AACD,KAFD,MAEO,IAAIT,IAAIS,CAAJ,MAAW,GAAX,IAAkBT,IAAIS,IAAI,CAAR,MAAe,GAArC,EAA0C;AAC/C,aAAOT,IAAIS,CAAJ,MAAW,IAAX,IAAmBT,IAAIS,CAAJ,CAA1B,EAAkC;AAChCA;AACD;AACF,KAJM,MAIA;AACL,UAAIT,IAAIS,CAAJ,MAAW,GAAf,EAAoB;AAClBgB,oBAAY,KAAZ;AACAF,eAAOC,GAAP;AACAA,cAAM,EAAN;AACD;;AAED,UAAI,KAAKL,IAAL,CAAUK,GAAV,CAAJ,EAAoB;AAClBD,eAAOC,GAAP;AACAA,cAAM,EAAN;AACD;;AAED,UAAIA,OAAO,CAACE,SAASF,IAAI,CAAJ,CAAT,CAAR,IAA4BA,IAAI,CAAJ,MAAW,GAA3C,EAAgD;AAC9C,YAAI,CAACC,SAAL,EAAgB;AACdF,iBAAO,UAAUC,GAAjB;AACA,eAAKF,OAAL,CAAaN,IAAb,CAAkBQ,GAAlB;AACD,SAHD,MAGO;AACLD,iBAAOC,GAAP;AACD;AACDA,cAAM,EAAN;AACD,OARD,MAQO,IAAIE,SAASF,IAAI,CAAJ,CAAT,KAAoBA,QAAQ,GAAhC,EAAqC;AAC1CD,eAAOC,GAAP;AACAA,cAAM,EAAN;AACD;;AAED,UAAIxB,IAAIS,CAAJ,MAAW,GAAf,EAAoB;AAClBgB,oBAAY,IAAZ;AACD;;AAEDF,aAAOvB,IAAIS,CAAJ,CAAP;AACD;AACF;;AAED,MAAI,KAAKU,IAAL,CAAUK,GAAV,CAAJ,EAAoB;AAClBD,WAAOC,GAAP;AACAA,UAAM,EAAN;AACD;;AAED,MAAIA,OAAO,CAACE,SAASF,IAAI,CAAJ,CAAT,CAAR,IAA4BA,IAAI,CAAJ,MAAW,GAA3C,EAAgD;AAC9C,QAAI,CAACC,SAAL,EAAgB;AACdF,aAAO,UAAUC,GAAjB;AACA,WAAKF,OAAL,CAAaN,IAAb,CAAkBQ,GAAlB;AACD,KAHD,MAGO;AACLD,aAAOC,GAAP;AACD;AACF,GAPD,MAOO,IAAIE,SAASF,IAAI,CAAJ,CAAT,KAAoBA,QAAQ,GAAhC,EAAqC;AAC1CD,WAAOC,GAAP;AACD;;AAED,OAAKG,QAAL,GAAgBC,SAAS,YAAYL,GAArB,CAAhB;AACD;;AAED;;;;;;AAMA,SAASM,SAAT,CAAmB7B,GAAnB,EAAwB;AACtB,MAAIQ,MAAM,EAAV;AAAA,MAAcgB,MAAM,EAApB;;AAEA,OAAK,IAAIf,IAAI,CAAb,EAAgBT,IAAIS,CAAJ,CAAhB,EAAwBA,KAAK,CAA7B,EAAgC;AAC9B,QAAIT,IAAIS,CAAJ,MAAW,GAAX,IAAkBT,IAAIS,IAAI,CAAR,MAAe,GAArC,EAA0C;AACxCe,aAAOhB,IAAIQ,IAAJ,CAASQ,GAAT,CAAP;AACAA,YAAM,EAAN;AACAf;AACD,KAJD,MAIO,IAAIT,IAAIS,CAAJ,MAAW,GAAX,IAAkBT,IAAIS,IAAI,CAAR,MAAe,GAArC,EAA0C;AAC/Ce,aAAOhB,IAAIQ,IAAJ,CAAS,IAAII,SAAJ,CAAcI,GAAd,CAAT,CAAP;AACAA,YAAM,EAAN;AACAf;AACD,KAJM,MAIAe,OAAOxB,IAAIS,CAAJ,CAAP;AACR;;AAED,SAAOD,GAAP;AACD;;AAED,IAAIsB,QAAQ;AACV/B,oBADU,EACA8B,oBADA,EACWjB;AADX,CAAZ;;kBAIekB,K;;;;;;;;;;;;;;ACjOf;;;;AACA;;;;;;AAEA;;;;;AARA;;;;;AAaA,IAAIC,UAAU,cAAd;;AAEA;;;;;AAKA,IAAMC,OAAO,MAAb;AAAA,IAAqBC,OAAO,MAA5B;;AAEA;;;;;;AAMA,SAASC,QAAT,CAAkBlC,GAAlB,EAAuB;AACrB,MAAImC,OAAO,aAAX;AAAA,MAA0B1B,UAA1B;AAAA,MAA6B2B,WAA7B;;AAEA,OAAK3B,IAAIT,IAAIiB,MAAJ,GAAa,CAAtB,EAAyBR,KAAK,CAA9B,EAAiCA,GAAjC,EAAsC;AACpC2B,SAAKpC,IAAIqC,UAAJ,CAAe5B,CAAf,CAAL;AACA0B,YAAS,CAACA,QAAQ,CAAT,IAAcC,EAAd,IAAoBD,QAAQ,CAA5B,CAAT;AACAA,YAAS,CAACA,QAAQ,CAAT,IAAcC,EAAd,IAAoBD,QAAQ,CAA5B,CAAT;AACD;;AAED,SAAQA,IAAD,CAAOG,QAAP,CAAgB,EAAhB,CAAP;AACD;;AAED;;;;;;AAMA,SAASC,OAAT,CAAiBvC,GAAjB,EAAsB;AACpB,SAAO+B,QAAQZ,IAAR,CAAanB,GAAb,CAAP;AACD;;AAED;;;;;;AAMA,SAASwC,UAAT,CAAoBvC,EAApB,EAAwB;AACtB,MAAIwC,WAAWxC,GAAGyC,gBAAH,CAAoB,GAApB,CAAf;AACA,MAAIlC,MAAM,EAAV;;AAEA,OAAK,IAAIC,CAAT,IAAcgC,QAAd,EAAwB;AACtB,SAAK,IAAIE,CAAT,IAAcF,SAAShC,CAAT,EAAYmC,UAA1B,EAAsC;AACpC,UAAIL,QAAQE,SAAShC,CAAT,EAAYmC,UAAZ,CAAuBD,CAAvB,CAAR,CAAJ,EAAwC;AACtCnC,YAAIQ,IAAJ,CAAS;AACP6B,gBAAMb,IADC;AAEPc,kBAAQL,SAAShC,CAAT,CAFD;AAGPsC,oBAAUN,SAAShC,CAAT,EAAYmC,UAAZ,CAAuBD,CAAvB,EAA0BK,IAH7B;AAIPC,gBAAM,gBAAMpB,SAAN,CAAgBY,SAAShC,CAAT,EAAYmC,UAAZ,CAAuBD,CAAvB,EAA0BO,KAA1C;AAJC,SAAT;AAMD;AACF;;AAED,SAAK,IAAIP,EAAT,IAAcF,SAAShC,CAAT,EAAYJ,UAA1B,EAAsC;AACpC,UAAIoC,SAAShC,CAAT,EAAYJ,UAAZ,CAAuBsC,EAAvB,EAA0BQ,QAA1B,KAAuC,OAAvC,IAAkDZ,QAAQE,SAAShC,CAAT,EAAYJ,UAAZ,CAAuBsC,EAAvB,EAA0BS,SAAlC,CAAtD,EAAoG;AAClG5C,YAAIQ,IAAJ,CAAS;AACP6B,gBAAMZ,IADC;AAEPa,kBAAQL,SAAShC,CAAT,EAAYJ,UAAZ,CAAuBsC,EAAvB,CAFD;AAGPM,gBAAM,gBAAMpB,SAAN,CAAgBY,SAAShC,CAAT,EAAYJ,UAAZ,CAAuBsC,EAAvB,EAA0BS,SAA1C;AAHC,SAAT;AAKD;AACF;AACF;;AAED,SAAO5C,GAAP;AACD;;AAED;;;;;;;AAOA,SAAS6C,QAAT,CAAkBC,IAAlB,EAAwBL,IAAxB,EAA8B;AAC5B,MAAIM,UAAU,EAAd;;AAD4B,6BAGnB9C,CAHmB;AAI1B,QAAIiB,SAASjB,CAAT,CAAJ,EAAiB;AACf,WAAK,IAAIkC,CAAT,IAAcW,KAAK7C,CAAL,EAAQwC,IAAtB,EAA4B;AAC1B,YAAIK,KAAK7C,CAAL,EAAQwC,IAAR,CAAaN,CAAb,EAAgBrB,OAApB,EAA6B;AAC3BgC,eAAK7C,CAAL,EAAQwC,IAAR,CAAaN,CAAb,EAAgBrB,OAAhB,CAAwBkC,OAAxB,CAAgC,UAACC,CAAD,EAAO;AACrCR,iBAAKS,cAAL,CAAoBD,CAApB,MAA2BF,QAAQE,CAAR,MAAeF,QAAQE,CAAR,IAAa,EAA5B,CAA3B,KAA+DR,KAAKQ,CAAL,EAAQzC,IAAR,CAAasC,KAAK7C,CAAL,CAAb,CAA/D;AACD,WAFD;AAGD;AACF;AACF;AAZyB;;AAG5B,OAAK,IAAIA,CAAT,IAAc6C,IAAd,EAAoB;AAAA,UAAX7C,CAAW;AAUnB;;AAED,SAAO8C,OAAP;AACD;;AAED;;;;;;;AAOA,SAASI,WAAT,CAAqBV,IAArB,EAA2BhD,EAA3B,EAA+B;AAC7B,MAAMsD,UAAUF,SAASb,WAAWvC,EAAX,CAAT,EAAyBgD,IAAzB,CAAhB;;AAEA,SAAO,kBAAQW,MAAR,CAAeX,IAAf,EAAqB,UAACY,GAAD,EAAMC,GAAN,EAAc;AACxCP,YAAQM,GAAR,EAAalC,QAAb;AACD,GAFM,CAAP;AAGD;;AAED;;;;;;;AAOA,SAASoC,QAAT,CAAkBC,OAAlB,EAA2BC,OAA3B,EAAoCzD,GAApC,EAAyC;AACvC,MAAI0D,OAAO,EAAX;;AAEA,OAAK,IAAIzD,IAAI,CAAb,EAAgBA,IAAID,IAAIS,MAAxB,EAAgCR,GAAhC,EAAqC;AACnC,QAAID,IAAIC,CAAJ,EAAOkB,QAAX,EAAqB;AACnB,UAAInB,IAAIC,CAAJ,EAAOkB,QAAP,CAAgBwC,KAAhB,CAAsBH,OAAtB,MAAmCxD,IAAIC,CAAJ,EAAOkB,QAAP,CAAgBwC,KAAhB,CAAsBF,OAAtB,CAAvC,EAAuE;AACrEC,aAAKlD,IAAL,CAAUR,IAAIC,CAAJ,CAAV;AACD;AACF;AACF;AACF;;AAED,IAAIwC,OAAO;AACTf,oBADS,EACCK,gBADD,EACUC,sBADV,EACsBa,kBADtB,EACgCU,kBADhC,EAC0CJ;AAD1C,CAAX;;kBAIeV,I;;;;;;;;;;;;;;;;ACrJf;;;;;AAKA;;;;;;;;AAQA,SAASW,MAAT,CAAgBQ,GAAhB,EAAqBC,QAArB,EAA+BC,GAA/B,EAAoC;AAClC,MAAIC,QAAQC,OAAOC,MAAP,CAAc,EAAd,EAAkBL,GAAlB,CAAZ;;AADkC,6BAGzBP,IAHyB;AAIhC,QAAIO,IAAIV,cAAJ,CAAmBG,IAAnB,CAAJ,EAA6B;AAC3B,UAAIU,MAAMV,IAAN,aAAsBa,KAA1B,EAAiC;AAC/BH,cAAMV,IAAN,IAAac,MAAMJ,MAAMV,IAAN,CAAN,EAAkBQ,QAAlB,EAA4BC,OAAOT,IAAnC,CAAb;AACD,OAFD,MAEO,IAAI,QAAOU,MAAMV,IAAN,CAAP,MAAsB,QAA1B,EAAoC;AACzCD,eAAOW,MAAMV,IAAN,CAAP,EAAmBQ,QAAnB,EAA6BC,OAAOT,IAApC;AACD;AACDW,aAAOI,cAAP,CAAsBR,GAAtB,EAA2BP,IAA3B,EAAgC;AAC9BgB,WAD8B,iBACxB;AACJ,iBAAON,MAAMV,IAAN,CAAP;AACD,SAH6B;AAI9BiB,WAJ8B,eAI1BhB,GAJ0B,EAIrB;AACP,cAAIS,MAAMV,IAAN,aAAsBa,KAA1B,EAAiC;AAC/BH,kBAAMV,IAAN,IAAac,MAAMJ,MAAMV,IAAN,CAAN,EAAkBQ,QAAlB,EAA4BC,OAAOT,IAAnC,CAAb;AACD,WAFD,MAEO,IAAI,QAAOU,MAAMV,IAAN,CAAP,MAAsB,QAA1B,EAAoC;AACzCD,mBAAOW,MAAMV,IAAN,CAAP,EAAmBQ,QAAnB,EAA6BC,OAAOT,IAApC;AACD;AACDQ,sBAAYA,SAASF,KAAT,CAAeC,GAAf,EAAoB,CAACE,OAAOT,IAAR,EAAaC,GAAb,CAApB,CAAZ;AACD;AAX6B,OAAhC;AAaD;AAvB+B;;AAGlC,OAAK,IAAID,IAAT,IAAgBO,GAAhB,EAAqB;AAAA,UAAZP,IAAY;AAqBpB;AACF;;AAED;;;;;;;;AAQA,SAASA,GAAT,CAAaO,GAAb,EAAkBP,GAAlB,EAAuBQ,QAAvB,EAAiC;AAC/B,MAAIU,eAAJ;;AAEA,SAAOP,OAAOI,cAAP,CAAsBR,GAAtB,EAA2BP,GAA3B,EAAgC;AACrCgB,OADqC,iBAC/B;AACJ,aAAOE,MAAP;AACD,KAHoC;AAIrCD,OAJqC,eAIjChB,GAJiC,EAI5B;AACPiB,eAASjB,GAAT;AACAO,kBAAYA,SAASF,KAAT,CAAeC,GAAf,EAAoBN,GAApB,CAAZ;AACD;AAPoC,GAAhC,CAAP;AASD;;AAED;;;;;;;;AAQA,SAASkB,GAAT,CAAalB,GAAb,EAAkBmB,CAAlB,EAAqBC,CAArB,EAAwB;AACtB,SAAOpB,OAAOmB,CAAP,IAAYnB,MAAMoB,CAAzB;AACD;;AAED;;;;;;;AAOA,SAASC,MAAT,CAAgBd,QAAhB,EAA0BC,GAA1B,EAA+B;AAC7B;;;;AAIAE,SAAOI,cAAP,CAAsB,IAAtB,EAA4B3D,MAA5B,EAAoC;AAClC4D,OADkC,iBAC5B;AACJ,aAAO,KAAK5D,MAAZ;AACD,KAHiC;AAIlC6D,OAJkC,eAI9BhB,GAJ8B,EAIzB;AACP,UAAIpC,SAASoC,GAAT,MAAkBA,GAAtB,EAA2B;AACzB,aAAK,IAAIrD,CAAT,IAAc,IAAd,EAAoB;AAAEA,eAAKqD,GAAN,IAAe,OAAO,KAAKrD,CAAL,CAAtB;AAAgC;;AAErD,aAAK,IAAIA,KAAI,CAAb,EAAgBA,KAAIqD,GAApB,EAAyBrD,MAAK,CAA9B,EAAiC;AAC/B,eAAKA,EAAL,MAAY2E,SAAZ,KAA0B,KAAK3E,EAAL,IAAU,KAAKA,EAAL,CAApC;AACD;AACF;;AAED,aAAO,IAAP;AACD;AAdiC,GAApC;;AAiBA;;;;;;;AAOA,OAAK4E,SAAL,CAAeC,IAAf,GAAsB,UAAUxB,GAAV,EAAeyB,KAAf,EAAsB5E,GAAtB,EAA2B;AAC/C,QAAI6E,IAAID,SAAS,CAAjB;AAAA,QAAoB9B,IAAI9C,OAAO,KAAKM,MAApC;;AAEA,SAAK,IAAIR,CAAT,IAAc,IAAd,EAAoB;AAAEiB,eAASjB,CAAT,MAAgBA,CAAjB,IAAwBuE,IAAI,KAAKvE,CAAL,CAAJ,EAAa+E,CAAb,EAAgB/B,CAAhB,CAAxB,KAAgD,KAAKhD,CAAL,IAAUqD,GAA1D;AAAgE;;AAErFO,aAASC,GAAT;AACD,GAND;;AAQA;;;;;AAKA,OAAKe,SAAL,CAAenE,GAAf,GAAqB,YAAY;AAC/B,QAAI,KAAKD,MAAT,EAAiB;AACf,UAAIT,MAAM,KAAK,KAAKS,MAAL,GAAc,CAAnB,CAAV;;AAEA,WAAKA,MAAL,IAAe,CAAf;AACAoD,eAASC,GAAT;AACA,aAAO9D,GAAP;AACD;AACF,GARD;;AAUA;;;;;;AAMA,OAAK6E,SAAL,CAAerE,IAAf,GAAsB,UAAU8C,GAAV,EAAe;AACnC,SAAK,KAAK7C,MAAV,IAAoB6C,GAApB;AACA,SAAK7C,MAAL,IAAe,CAAf;AACAoD,aAASC,GAAT;AACA,WAAO,IAAP;AACD,GALD;;AAOA;;;;AAIA,OAAKe,SAAL,CAAeI,OAAf,GAAyB,YAAY;AACnC,QAAIC,MAAM,KAAKzE,MAAL,GAAc,CAAxB;AAAA,QAA2BO,YAA3B;;AAEA,SAAK,IAAIf,IAAI,CAAb,EAAgBA,IAAIiF,MAAM,CAA1B,EAA6BjF,KAAK,CAAlC,EAAqC;AACnC,UAAI,KAAKA,CAAL,MAAY2E,SAAhB,EAA2B;AACzB5D,cAAM,KAAKf,CAAL,CAAN;AACA,aAAKA,CAAL,IAAU,KAAKiF,MAAMjF,CAAX,CAAV;AACA,aAAKiF,MAAMjF,CAAX,IAAgBe,GAAhB;AACD;AACF;;AAED6C,aAASC,GAAT;AACD,GAZD;;AAcA;;;;;AAKA,OAAKe,SAAL,CAAeM,KAAf,GAAuB,YAAY;AACjC,QAAI,KAAK1E,MAAT,EAAiB;AACf,UAAIT,MAAM,KAAK,CAAL,CAAV;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIQ,SAAS,CAA7B,EAAgCR,KAAK,CAArC,EAAwC;AACtC,aAAKA,IAAI,CAAT,MAAgB2E,SAAhB,KAA8B,KAAK3E,CAAL,IAAU,KAAKA,IAAI,CAAT,CAAxC;AACD;;AAED,WAAKQ,MAAL,IAAe,CAAf;AACAoD,eAASC,GAAT;AACA,aAAO9D,GAAP;AACD;AACF,GAZD;;AAcA;;;;;AAKA,OAAK6E,SAAL,CAAeO,OAAf,GAAyB,YAAY;AACnC,QAAIC,MAAM,EAAV;;AAEA,SAAK,IAAIpF,CAAT,IAAc,IAAd,EAAoB;AAClBA,YAAMiB,SAASjB,CAAT,CAAN,KAAsBoF,IAAIpF,CAAJ,IAAS,KAAKA,CAAL,CAA/B;AACD;;AAED,WAAOoF,GAAP;AACD,GARD;;AAUA;;;;;;AAMA,OAAKR,SAAL,CAAeS,eAAf,GAAiC,UAAUD,GAAV,EAAe;AAC9C,SAAK,IAAIpF,IAAI,CAAb,EAAgBA,IAAIoF,IAAI5E,MAAxB,EAAgCR,KAAK,CAArC,EAAwC;AACtC,WAAKA,CAAL,IAAUoF,IAAIpF,CAAJ,CAAV;AACA,UAAI,KAAKoD,GAAL,aAAqBa,KAAzB,EAAgC;AAC9B,aAAKb,GAAL,IAAYc,MAAM,KAAKd,GAAL,CAAN,EAAiBQ,QAAjB,EAA2BC,OAAOT,GAAlC,CAAZ;AACD,OAFD,MAEO,IAAI,QAAO,KAAKA,GAAL,CAAP,MAAqB,QAAzB,EAAmC;AACxCD,eAAO,KAAKC,GAAL,CAAP,EAAkBQ,QAAlB,EAA4BC,OAAOT,GAAnC;AACD;AACF;;AAED,SAAK5C,MAAL,GAAc4E,IAAI5E,MAAlB;;AAEAoD,aAASC,GAAT;;AAEA,WAAO,IAAP;AACD,GAfD;;AAiBA;;;;;AAKA,OAAKe,SAAL,CAAeU,MAAf,GAAwB,YAAY;AAClC,QAAIF,MAAM,KAAKD,OAAL,EAAV;AACA,QAAIpF,MAAMkE,MAAMqB,MAAN,CAAa5B,KAAb,CAAmB0B,GAAnB,EAAwBG,SAAxB,CAAV;;AAEA,SAAKF,eAAL,CAAqBD,GAArB;AACAxB,aAASC,GAAT;AACA,WAAO9D,GAAP;AACD,GAPD;;AASA;;;;AAIA,OAAK6E,SAAL,CAAeY,OAAf,GAAyB,YAAY;AACnC,QAAIJ,MAAM,KAAKD,OAAL,EAAV;AACA,QAAIpF,MAAMkE,MAAMuB,OAAN,CAAc9B,KAAd,CAAoB0B,GAApB,EAAyBG,SAAzB,CAAV;;AAEA,SAAKF,eAAL,CAAqBD,GAArB;AACAxB,aAASC,GAAT;AACA,WAAO9D,GAAP;AACD,GAPD;AAQD;;AAED;;;;;;;;AAQA,SAASmE,KAAT,CAAekB,GAAf,EAAoBxB,QAApB,EAA8BC,GAA9B,EAAmC;AACjC,SAAQ,IAAIa,MAAJ,CAAWd,QAAX,EAAqBC,GAArB,CAAD,CAA4BwB,eAA5B,CAA4CD,GAA5C,CAAP;AACD;;AAED,IAAIK,UAAU;AACZtC,gBADY,EACJC,QADI,EACCc;AADD,CAAd;;kBAIeuB,O;;;;;;;;;;;;;ACzQf;;;;;AAKA;;;;;;AAMA,SAASC,MAAT,CAAgBC,QAAhB,EAA0B;AACxB,SAAOlG,SAASmG,aAAT,CAAuBD,QAAvB,CAAP;AACD;;AAED;;;;;;AAMA,SAASE,MAAT,CAAgBF,QAAhB,EAA0B;AACxB,SAAOlG,SAASwC,gBAAT,CAA0B0D,QAA1B,CAAP;AACD;;AAED;;;;;;;AAOA,SAASG,OAAT,CAAiBtG,EAAjB,EAAqB+C,IAArB,EAA2B;AACzB,SAAO/C,GAAGuG,YAAH,CAAgBxD,IAAhB,CAAP;AACD;;AAED;;;;;;AAMA,SAASyD,QAAT,CAAkBxG,EAAlB,EAAsB;AACpB,MAAIO,MAAM,EAAV;;AAEA,OAAK,IAAIC,CAAT,IAAcR,GAAGyG,SAAjB,EAA4B;AAAClG,QAAIP,GAAGyG,SAAH,CAAajG,CAAb,EAAgBuC,IAApB,IAA4B/C,GAAGyG,SAAH,CAAajG,CAAb,EAAgByC,KAA5C;AAAmD;;AAEhF,SAAO1C,GAAP;AACD;;AAED;;;;;;;AAOA,SAASmG,QAAT,CAAkB1G,EAAlB,EAAsB2G,SAAtB,EAAiC;AAC/B,SAAQ3G,GAAG2G,SAAH,CAAaC,OAAb,CAAqBD,SAArB,IAAkC,CAAnC,KAA0C3G,GAAG2G,SAAH,IAAgB,MAAMA,SAAhE,CAAP;AACD;;AAED;;;;;;;AAOA,SAASE,WAAT,CAAqB7G,EAArB,EAAyB2G,SAAzB,EAAoC;AAClC,SAAO3G,GAAG2G,SAAH,CAAaG,OAAb,QAA0BH,SAA1B,SAAuCA,SAAvC,EAAoD,EAApD,CAAP;AACD;;AAED;;;;;;;AAOA,SAASI,WAAT,CAAqB/G,EAArB,EAAyB2G,SAAzB,EAAoC;AAClC,SAAQ3G,GAAG2G,SAAH,CAAaC,OAAb,CAAqBD,SAArB,IAAkC,CAAnC,GACJ3G,GAAG2G,SAAH,CAAaG,OAAb,QAA0BH,SAA1B,SAAuCA,SAAvC,EAAoD,EAApD,CADI,GAEJ3G,GAAG2G,SAAH,IAAgB,MAAMA,SAFzB;AAGD;;AAED,IAAIK,MAAM;AACRd,gBADQ,EACAG,cADA,EACQC,gBADR,EACiBE,kBADjB,EAC2BE,kBAD3B,EACqCG,wBADrC,EACkDE;AADlD,CAAV;;kBAIeC,G;;;;;;;;;;;;;ACzFf;;;;;AAKA;;;;;AAKA,IAAIC,WAAW,EAAf;;AAEA;;;;;AAKA,SAASC,KAAT,CAAeC,GAAf,EAAoB;AAClBF,WAASlG,IAAT,CAAc,WAAWoG,GAAzB;AACAC,UAAQF,KAAR,CAAc,kBAAkBC,GAAhC;AACD;;AAED;;;;;AAKA,SAASE,IAAT,CAAcF,GAAd,EAAmB;AACjBF,WAASlG,IAAT,CAAc,UAAUoG,GAAxB;AACAC,UAAQC,IAAR,CAAa,iBAAiBF,GAA9B;AACD;;AAED,IAAIG,UAAU;AACZJ,cADY,EACLG,UADK,EACCJ;AADD,CAAd;;kBAIeK,O;;;;;;;;;;;;;;AC/Bf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;0JAVA;;;;;AAYA;;;;;IAKqBC,I;AACnB;;;;AAIA,gBAAc;AAAA;;AACZ,OAAKC,KAAL,GAAa,MAAb;AACA,OAAKC,QAAL,GAAgB,OAAhB;AACA,OAAKzE,IAAL;AACA,OAAKgE,GAAL;AACA,OAAKf,OAAL;AACA,OAAKpE,KAAL;AACA,OAAK6F,KAAL;AACA,OAAKC,IAAL;AACD,C;;kBAdkBJ,I;;;;;;;;;;;;;;ACZrB;;;;;;AAEA;;;;;AAKA,IAAIK,YAAY,EAAhB;;AAEA;;;;;;;;AAdA;;;;;AAsBA,SAASC,aAAT,CAAuBH,KAAvB,EAA8BtD,QAA9B,EAAwCvB,MAAxC,EAAgD;AAC9C+E,YAAUF,KAAV,KAAoB,kBAAIL,IAAJ,aAAmBK,KAAnB,yBAApB;;AAEAE,YAAUF,KAAV,IAAmB;AACjBtD,sBADiB,EACP0D,QAAQ,IADD,EACOjF,cADP,EACe6E;AADf,GAAnB;AAGD;;AAED;;;;;;;;AAQA,SAASK,gBAAT,CAA0BL,KAA1B,EAAiCtD,QAAjC,EAA2CvB,MAA3C,EAAmD;AACjD,SAAO+E,UAAUF,KAAV,CAAP;AACD;;AAED;;;;;;;AAOA,SAASM,QAAT,CAAkBN,KAAlB,EAAyB7E,MAAzB,EAAiCuB,QAAjC,EAA2C;AACzC,MAAIvB,OAAOoF,gBAAX,EAA6B;AAC3BpF,WAAOoF,gBAAP,CAAwBP,KAAxB,EAA+BtD,QAA/B;AACD,GAFD,MAEO;AACLyD,kBAAcH,KAAd,EAAqBtD,QAArB,EAA+BvB,MAA/B;AACD;AACF;;AAED;;;;;;AAMA,SAASqF,SAAT,CAAmBR,KAAnB,EAA0B7E,MAA1B,EAAkC;AAChC,MAAIA,OAAOsF,aAAX,EAA0B;AACxB,QAAI3E,IAAI,IAAI4E,KAAJ,CAAUV,KAAV,CAAR;;AAEA7E,WAAOsF,aAAP,CAAqB3E,CAArB;AACD,GAAC,IAAIoE,UAAUF,KAAV,CAAJ,EAAsB;AACtBE,cAAUF,KAAV,EAAiBtD,QAAjB,CAA0BF,KAA1B,CAAgC0D,UAAUF,KAAV,EAAiB7E,MAAjD,EAAyD,CAAC+E,UAAUF,KAAV,EAAiB7E,MAAlB,CAAzD;AACD,GAFC,MAEK;AACL,sBAAIqE,KAAJ,aAAoBQ,KAApB;AACD;AACF;;AAED;;;;;;;AAOA,SAASW,WAAT,CAAqBX,KAArB,EAA4B7E,MAA5B,EAAoCuB,QAApC,EAA8C;AAC5C,MAAIvB,OAAOyF,mBAAX,EAAgC;AAC9BlE,eAAWvB,OAAOyF,mBAAP,CAA2BZ,KAA3B,EAAkCtD,QAAlC,CAAX,GACE,kBAAI8C,KAAJ,CAAU,wDAAV,CADF;AAED,GAHD,MAGO;AACLa,qBAAiBL,KAAjB,EAAwBtD,QAAxB,EAAkCvB,MAAlC;AACD;AACF;;AAED,IAAI6E,QAAQ;AACVM,oBADU,EACAE,oBADA,EACWG;AADX,CAAZ;;kBAIeX,K;;;;;;;;;;;;;;AC1Ff;;;;AACA;;;;AACA;;;;AACA;;;;;;0JARA;;;;;AAUA;;;;AAIA,IAAMa,gBAAgB;AACpBvF,QAAM,EADc;AAEpBwF,aAAW,KAFS;AAGpBC,UAAQ,KAHY;AAIpBC,UAAQ,KAJY;AAKpBC,WAAS,mBAAK,CAAE,CALI;AAMpBC,YAAU,oBAAK,CAAE,CANG;AAOpBC,WAAS,mBAAK,CAAE,CAPI;AAQpBC,WAAS,mBAAK,CAAE,CARI;AASpBC,aAAW,qBAAK,CAAE;AATE,CAAtB;;AAYA;;;;;IAKqBC,Q,GACnB,kBAAYC,MAAZ,EAAoB;AAAA;;AAClB,MAAIC,SAAS3E,OAAOC,MAAP,CAAc,EAAd,EAAkB+D,aAAlB,EAAiCU,MAAjC,CAAb;AACA,MAAIE,kBAAJ;;AAEA,MAAI,CAAC,cAAIjD,MAAJ,CAAWgD,OAAOlJ,EAAlB,CAAL,EAA4B;AAC1B,sBAAIkH,KAAJ,CAAU,gDAAV;AACA;AACD;;AAED,MAAI,CAACgC,OAAOE,OAAZ,EAAqB;AACnB,sBAAIlC,KAAJ,CAAU,gCAAV;AACA;AACD;;AAED,MAAIgC,OAAOE,OAAP,CAAejJ,SAAnB,EAA8B;AAC5B+I,WAAOE,OAAP,GAAiBF,OAAOE,OAAP,CAAejJ,SAAhC;AACD;;AAED,MAAI;AACF,QAAI+I,OAAOR,MAAX,EAAmB;AACjBS,kBAAY,gBAAMxI,SAAN,CAAgBuI,OAAOE,OAAvB,CAAZ;AACD,KAFD,MAEO;AACLD,kBAAY,gBAAMrJ,QAAN,CAAeoJ,OAAOE,OAAtB,CAAZ;AACD;AACF,GAND,CAME,OAAO5F,CAAP,EAAU;AACV4D,YAAQF,KAAR,CAAc1D,CAAd;AACD;;AAED,iBAAKjB,UAAL,CAAgB4G,SAAhB;AAED,C;;kBA/BkBH,Q","file":"Hake.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Hake\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Hake\"] = factory();\n\telse\n\t\troot[\"Hake\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d7da189462630fb07565","/**\n * @file All of the string handler is here, parse Hake, HTML and data syntax inside.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\n/**\n * To match single tag.\n * @constant\n * @type {RegExp}\n */\n\nconst singleTag = /area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr/;\n\n/**\n * To skip syntax that not involved in data.\n * @constant\n * @type {RegExp}\n */\n\nconst syntax = /[ +|\\-*\\/%=&\\n{}<>^!?:,;~\\[\\]\\\\]/;\n\n/**\n * Use browser native api to parse HTML, Lazy Easy DOM parser.\n * @param {string} str\n * @return {HTMLElement}\n */\n\nfunction parseDOM(str) {\n  let el = document.createElement('div');\n\n  el.innerHTML = str;\n  return el.childNodes[0];\n}\n\n/**\n * Read tag name and return it with a char after it\n * @param {number} startIndex\n * @param {string} str\n * @return {{tag: string, end: string}|boolean}\n */\n\nfunction readTag(startIndex, str) {\n  let res = '', i;\n\n  for (i = startIndex; str[i] !== ' ' && str[i] !== '{' && str[i] !== '('; i += 1) {\n    res += str[i];\n  }\n\n  return {tag: res, end: str[i]} || false;\n}\n\n/**\n * Parse Hake string and return HTMLElement.\n * @param {string} str\n * @return {HTMLElement}\n */\n\nfunction parseHake(str) {\n  let res = '', nowTag = [], tmpTag, inString = '';\n\n  for (let i = 0; str[i]; i++) {\n    switch (str[i]) {\n      case '(':\n        nowTag.push(readTag(i + 1, str));\n        if (nowTag[nowTag.length - 1].end === ' ') {\n          res += '<' + nowTag[nowTag.length - 1].tag + '>';\n          i += nowTag[nowTag.length - 1].tag.length + 1;\n        } else if (nowTag[nowTag.length - 1].end === '(') {\n          res += '<' + nowTag[nowTag.length - 1].tag + '>';\n          i += nowTag[nowTag.length - 1].tag.length;\n        } else res += '<';\n        break;\n      case ')':\n        tmpTag = nowTag.pop();\n        res += singleTag.test(tmpTag.tag) ? '/>' : ('<\\/' + tmpTag.tag + '>');\n        break;\n      case '\"':\n        if (inString === '\"') {\n          inString = '';\n        } else if (!inString) {\n          inString = '\"';\n        }\n        res += str[i];\n        break;\n      case '\\'':\n        if (inString === '\\'') {\n          inString = '';\n        } else if (!inString) {\n          inString = '\\'';\n        }\n        res += str[i];\n        break;\n      case '{':\n        if (!inString) {\n          if (str[i + 1] === '{') {\n            i++;\n            res += '{{';\n          } else {\n            res += ' ';\n          }\n        } else res += str[i];\n        break;\n      case '}':\n        if (!inString) {\n          if (str[i + 1] === '}') {\n            i++;\n            res += '}}';\n          } else {\n            if (nowTag[nowTag.length - 1].end === '{') {\n              res += '>';\n              i++;\n            } else {\n              res += ' ';\n            }\n          }\n        } else res += str[i];\n        break;\n      case '\\\\':\n        str[i] === '(' || str === ')' || i++;\n        res += str[i];\n        break;\n      default:\n        res += str[i];\n        break;\n    }\n  }\n\n  return parseDOM(res);\n}\n\n/**\n * DataBlock contain origin data, generator and related variable\n * @param {string} str\n * @constructor\n */\n\nfunction DataBlock(str) {\n  this.origin = str;\n  this.related = [];\n  let gen = '';\n  let tmp = '';\n  let blindThis = false;\n\n  for (let i = 0; str[i]; i += 1) {\n    if (!syntax.test(str[i])) {\n      tmp += str[i];\n    } else if (str[i] === '/' && str[i + 1] === '/') {\n      while (str[i] !== '\\n' && str[i]) {\n        i++;\n      }\n    } else {\n      if (str[i] === ']') {\n        blindThis = false;\n        gen += tmp;\n        tmp = '';\n      }\n\n      if (/\\./.test(tmp)) {\n        gen += tmp;\n        tmp = '';\n      }\n\n      if (tmp && !parseInt(tmp[0]) && tmp[0] !== '0') {\n        if (!blindThis) {\n          gen += 'this.' + tmp;\n          this.related.push(tmp);\n        } else {\n          gen += tmp;\n        }\n        tmp = '';\n      } else if (parseInt(tmp[0]) || tmp === '0') {\n        gen += tmp;\n        tmp = '';\n      }\n\n      if (str[i] === '[') {\n        blindThis = true;\n      }\n\n      gen += str[i];\n    }\n  }\n\n  if (/\\./.test(tmp)) {\n    gen += tmp;\n    tmp = '';\n  }\n\n  if (tmp && !parseInt(tmp[0]) && tmp[0] !== '0') {\n    if (!blindThis) {\n      gen += 'this.' + tmp;\n      this.related.push(tmp);\n    } else {\n      gen += tmp;\n    }\n  } else if (parseInt(tmp[0]) || tmp === '0') {\n    gen += tmp;\n  }\n\n  this.generate = Function('return ' + gen);\n}\n\n/**\n * Parse data string contain '{{...}}' and slice it into a string\n * @param {string} str\n * @return {Array}\n */\n\nfunction parseData(str) {\n  let res = [], tmp = '';\n\n  for (let i = 0; str[i]; i += 1) {\n    if (str[i] === '{' && str[i + 1] === '{') {\n      tmp || res.push(tmp);\n      tmp = '';\n      i++;\n    } else if (str[i] === '}' && str[i + 1] === '}') {\n      tmp || res.push(new DataBlock(tmp));\n      tmp = '';\n      i++;\n    } else tmp += str[i];\n  }\n\n  return res;\n}\n\nlet parse = {\n  parseDOM, parseData, parseHake\n};\n\nexport default parse;\n\n\n\n// WEBPACK FOOTER //\n// ./src/parse/index.js","/**\n * @file Handle data bind, search, render and etc.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\nimport Parse from '../parse';\nimport Observe from '../observe';\n\n/**\n * Used to detect {{}} in string\n * @type {RegExp}\n */\n\nlet dataReg = /{{[\\s\\S]*}}/g;\n\n/**\n * DataBlock Type\n * @type {string}\n */\n\nconst ATTR = 'ATTR', TEXT = 'TEXT';\n\n/**\n * Hash a string to a code.\n * @param {string} str\n * @return {string}\n */\n\nfunction dataHash(str) {\n  let hash = 1713302033171, i, ch;\n\n  for (i = str.length - 1; i >= 0; i--) {\n    ch = str.charCodeAt(i);\n    hash ^= ((hash << 5) + ch + (hash >> 2));\n    hash ^= ((hash >> 2) + ch + (hash << 5));\n  }\n\n  return (hash).toString(16);\n}\n\n/**\n * If string contain {{}}\n * @param {string} str\n * @return {boolean}\n */\n\nfunction hasData(str) {\n  return dataReg.test(str);\n}\n\n/**\n * Search data bind in element, return a array with data info.\n * @param {HTMLElement} el\n * @return {Array}\n */\n\nfunction dataSearch(el) {\n  let children = el.querySelectorAll('*');\n  let res = [];\n\n  for (let i in children) {\n    for (let j in children[i].attributes) {\n      if (hasData(children[i].attributes[j])) {\n        res.push({\n          type: ATTR,\n          target: children[i],\n          attrName: children[i].attributes[j].name,\n          data: Parse.parseData(children[i].attributes[j].value)\n        });\n      }\n    }\n\n    for (let j in children[i].childNodes) {\n      if (children[i].childNodes[j].nodeName === '#text' && hasData(children[i].childNodes[j].nodeValue)) {\n        res.push({\n          type: TEXT,\n          target: children[i].childNodes[j],\n          data: Parse.parseData(children[i].childNodes[j].nodeValue)\n        });\n      }\n    }\n  }\n\n  return res;\n}\n\n/**\n * Use dataSearch result to bind a data object, return a related map.\n * @param {array} sArr\n * @param {object} data\n * @return {object}\n */\n\nfunction dataBind(sArr, data) {\n  let dataMap = {};\n\n  for (let i in sArr) {\n    if (parseInt(i)) {\n      for (let j in sArr[i].data) {\n        if (sArr[i].data[j].related) {\n          sArr[i].data[j].related.forEach((e) => {\n            data.hasOwnProperty(e) && (dataMap[e] || (dataMap[e] = [])) && data[e].push(sArr[i]);\n          });\n        }\n      }\n    }\n  }\n\n  return dataMap;\n}\n\n/**\n * Observing data from a element\n * @param {object} data\n * @param {HTMLElement} el\n * @return {Object}\n */\n\nfunction dataObserve(data, el) {\n  const dataMap = dataBind(dataSearch(el), data);\n\n  return Observe.object(data, (key, val) => {\n    dataMap[key].generate();\n  });\n}\n\n/**\n * diff the old data and new data to return difference array\n * @param oldData\n * @param newData\n * @param res\n */\n\nfunction dataDiff(oldData, newData, res) {\n  let diff = [];\n\n  for (let i = 0; i < res.length; i++) {\n    if (res[i].generate) {\n      if (res[i].generate.apply(oldData) !== res[i].generate.apply(newData)) {\n        diff.push(res[i]);\n      }\n    }\n  }\n}\n\nlet data = {\n  dataHash, hasData, dataSearch, dataBind, dataDiff, dataObserve\n};\n\nexport default data;\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/index.js","/**\n * @file Provide simple object and array observation.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\n/**\n * Observe Object with call back, and only return top level key.\n * @param {object} obj\n * @param {function} callback\n * @param {string} top\n * @return {object}\n */\n\nfunction object(obj, callback, top) {\n  let __obj = Object.assign({}, obj);\n\n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (__obj[key] instanceof Array) {\n        __obj[key] = array(__obj[key], callback, top || key);\n      } else if (typeof __obj[key] === 'object') {\n        object(__obj[key], callback, top || key);\n      }\n      Object.defineProperty(obj, key, {\n        get() {\n          return __obj[key];\n        },\n        set(val) {\n          if (__obj[key] instanceof Array) {\n            __obj[key] = array(__obj[key], callback, top || key);\n          } else if (typeof __obj[key] === 'object') {\n            object(__obj[key], callback, top || key);\n          }\n          callback && callback.apply(obj, [top || key, val]);\n        }\n      });\n    }\n  }\n}\n\n/**\n * Only observe special key change, not care about its children.\n * @param obj\n * @param key\n * @param callback\n * @return {*}\n */\n\nfunction key(obj, key, callback) {\n  let pValue;\n\n  return Object.defineProperty(obj, key, {\n    get() {\n      return pValue;\n    },\n    set(val) {\n      pValue = val;\n      callback || callback.apply(obj, val);\n    }\n  });\n}\n\n/**\n * Return if a <= val < b .\n * @param {number} val\n * @param {number} a\n * @param {number} b\n * @return {boolean}\n */\n\nfunction btw(val, a, b) {\n  return val >= a && val < b;\n}\n\n/**\n * Observable array, not the real one.\n * @param {function} callback\n * @param {string} top\n * @constructor\n */\n\nfunction OArray(callback, top) {\n  /**\n   * When length change, the OArray change.\n   */\n\n  Object.defineProperty(this, length, {\n    get() {\n      return this.length;\n    },\n    set(val) {\n      if (parseInt(val) === val) {\n        for (let i in this) {(i >= val) || (delete this[i]);}\n\n        for (let i = 0; i < val; i += 1) {\n          this[i] === undefined || (this[i] = this[i]);\n        }\n      }\n\n      return this;\n    }\n  });\n\n  /**\n   * As the native fill(), with callback\n   * @param {*} val\n   * @param {number} start\n   * @param {number} end\n   */\n\n  this.prototype.fill = function (val, start, end) {\n    let s = start || 0, e = end || this.length;\n\n    for (let i in this) {(parseInt(i) === i) && (btw(this[i], s, e)) && (this[i] = val);}\n\n    callback(top);\n  };\n\n  /**\n   * As the native pop(), with callback\n   * @return {*}\n   */\n\n  this.prototype.pop = function () {\n    if (this.length) {\n      let res = this[this.length - 1];\n\n      this.length -= 1;\n      callback(top);\n      return res;\n    }\n  };\n\n  /**\n   * As the native push(), with callback\n   * @param val\n   * @return {OArray}\n   */\n\n  this.prototype.push = function (val) {\n    this[this.length] = val;\n    this.length += 1;\n    callback(top);\n    return this;\n  };\n\n  /**\n   * As the native reverse(), with callback\n   */\n\n  this.prototype.reverse = function () {\n    let len = this.length - 1, tmp;\n\n    for (let i = 0; i < len / 2; i += 1) {\n      if (this[i] === undefined) {\n        tmp = this[i];\n        this[i] = this[len - i];\n        this[len - i] = tmp;\n      }\n    }\n\n    callback(top);\n  };\n\n  /**\n   * As the native shift(), with callback\n   * @return {*}\n   */\n\n  this.prototype.shift = function () {\n    if (this.length) {\n      let res = this[0];\n\n      for (let i = 0; i < length - 1; i += 1) {\n        this[i + 1] === undefined || (this[i] = this[i + 1]);\n      }\n\n      this.length -= 1;\n      callback(top);\n      return res;\n    }\n  };\n\n  /**\n   * Transform OArray to Array.\n   * @return {Array}\n   */\n\n  this.prototype.toArray = function () {\n    let arr = [];\n\n    for (let i in this) {\n      i === parseInt(i) && (arr[i] = this[i]);\n    }\n\n    return arr;\n  };\n\n  /**\n   * extend array to OArray\n   * @param {array} arr\n   * @return {OArray}\n   */\n\n  this.prototype.modifiedByArray = function (arr) {\n    for (let i = 0; i < arr.length; i += 1) {\n      this[i] = arr[i];\n      if (this[key] instanceof Array) {\n        this[key] = array(this[key], callback, top || key);\n      } else if (typeof this[key] === 'object') {\n        object(this[key], callback, top || key);\n      }\n    }\n\n    this.length = arr.length;\n\n    callback(top);\n\n    return this;\n  };\n\n  /**\n   * As the native splice(), with callback\n   * @return {array}\n   */\n\n  this.prototype.splice = function () {\n    let arr = this.toArray();\n    let res = Array.splice.apply(arr, arguments);\n\n    this.modifiedByArray(arr);\n    callback(top);\n    return res;\n  };\n\n  /**\n   * As the native unshift(), with callback\n   */\n\n  this.prototype.unshift = function () {\n    let arr = this.toArray();\n    let res = Array.unshift.apply(arr, arguments);\n\n    this.modifiedByArray(arr);\n    callback(top);\n    return res;\n  };\n}\n\n/**\n * Observe array with call back, and only return top level key.\n * @param {array} arr\n * @param {function} callback\n * @param {string} top\n * @return {OArray}\n */\n\nfunction array(arr, callback, top) {\n  return (new OArray(callback, top)).modifiedByArray(arr);\n}\n\nlet observe = {\n  object, key, array\n};\n\nexport default observe;\n\n\n\n// WEBPACK FOOTER //\n// ./src/observe/index.js","/**\n * @file Simple DOM function short cut, but may not use in main of HakeJS.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\n/**\n * document.querySelector shortcut\n * @param {string} selector\n * @return {Element}\n */\n\nfunction getOne(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n * document.querySelectorAll shortcut\n * @param {string} selector\n * @return {NodeList}\n */\n\nfunction getAll(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * getAttribute shortcut\n * @param {HTMLElement} el\n * @param {string} name\n * @return {string}\n */\n\nfunction getAttr(el, name) {\n  return el.getAttribute(name);\n}\n\n/**\n * return all attribute in element in a object\n * @param {HTMLElement} el\n * @return {object}\n */\n\nfunction getAttrs(el) {\n  let res = {};\n\n  for (let i in el.attribute) {res[el.attribute[i].name] = el.attribute[i].value;}\n\n  return res;\n}\n\n/**\n * Add class on element.\n * @param {HTMLElement} el\n * @param {string} className\n * @return {*|string}\n */\n\nfunction addClass(el, className) {\n  return (el.className.indexOf(className) + 1) || (el.className += ' ' + className);\n}\n\n/**\n * Remove class on element.\n * @param {HTMLElement} el\n * @param {string} className\n * @return {*|string}\n */\n\nfunction removeClass(el, className) {\n  return el.className.replace(`/ ${className}|${className}`, '');\n}\n\n/**\n * Toggle class on element.\n * @param {HTMLElement} el\n * @param {string} className\n * @return {*}\n */\n\nfunction toggleClass(el, className) {\n  return (el.className.indexOf(className) + 1) ?\n    (el.className.replace(`/ ${className}|${className}`, '')) :\n    (el.className += ' ' + className);\n}\n\nlet dom = {\n  getOne, getAll, getAttr, getAttrs, addClass, removeClass, toggleClass\n};\n\nexport default dom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom/index.js","/**\n * @file message api for HakeJS, will extend later.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\n/**\n * All message in the Hake will come here.\n * @type {Array}\n */\n\nlet msgStack = [];\n\n/**\n * Send a error message.\n * @param {string} msg\n */\n\nfunction error(msg) {\n  msgStack.push('error ' + msg);\n  console.error('[Hake error] ' + msg);\n}\n\n/**\n * Send a warn message.\n * @param {string} msg\n */\n\nfunction warn(msg) {\n  msgStack.push('warn ' + msg);\n  console.warn('[Hake] warn ' + msg);\n}\n\nlet message = {\n  error, warn, msgStack\n};\n\nexport default message;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/index.js","/**\n * @file Main enter of HakeJS, now just export all of module.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\nimport data from './data';\nimport dom from './dom';\nimport observe from './observe';\nimport parse from './parse';\nimport event from './event';\nimport item from './item';\n\n/**\n * A set of all HakeJS function and module.\n * @class\n */\n\nexport default class Hake {\n  /**\n   * Export all module, tag name and version.\n   * @constructor\n   */\n  constructor() {\n    this._name = 'Hake';\n    this._version = '0.0.0';\n    this.data = data;\n    this.dom = dom;\n    this.observe = observe;\n    this.parse = parse;\n    this.event = event;\n    this.item = item;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * @file Simple event system for HakeJS, but not sure really support.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\nimport Msg from '../message';\n\n/**\n * A pool to store event that not native\n * @type {object}\n */\n\nlet eventpool = {};\n\n/**\n * Add event in eventpool\n * @param {string} event\n * @param {function} callback\n * @param {*} target\n * @private\n */\n\nfunction __addListener(event, callback, target) {\n  eventpool[event] && Msg.warn(`event: ${event} will be overwrite.`);\n\n  eventpool[event] = {\n    callback, isFake: true, target, event\n  };\n}\n\n/**\n * Remove event in eventpool\n * @param {string} event\n * @param {function} callback\n * @param {*} target\n * @private\n */\n\nfunction __removeListener(event, callback, target) {\n  delete eventpool[event];\n}\n\n/**\n * Add event to anything (some just fake event)\n * @param {string} event\n * @param {function} callback\n * @param {*} target\n */\n\nfunction addEvent(event, target, callback) {\n  if (target.addEventListener) {\n    target.addEventListener(event, callback);\n  } else {\n    __addListener(event, callback, target);\n  }\n}\n\n/**\n * Run a event on target (fake events don't care target)\n * @param {string} event\n * @param {*} target\n */\n\nfunction trigEvent(event, target) {\n  if (target.dispatchEvent) {\n    let e = new Event(event);\n\n    target.dispatchEvent(e);\n  } if (eventpool[event]) {\n    eventpool[event].callback.apply(eventpool[event].target, [eventpool[event].target]);\n  } else {\n    Msg.error(`event: ${event} does not exist`);\n  }\n}\n\n/**\n * Remove event on anything (fake events don't care target and callback)\n * @param {string} event\n * @param {function} callback\n * @param {*} target\n */\n\nfunction removeEvent(event, target, callback) {\n  if (target.removeEventListener) {\n    callback ? target.removeEventListener(event, callback) :\n      Msg.error('event can\\'t be cancel without same callback function.');\n  } else {\n    __removeListener(event, callback, target);\n  }\n}\n\nlet event = {\n  addEvent, trigEvent, removeEvent\n};\n\nexport default event;\n\n\n\n// WEBPACK FOOTER //\n// ./src/event/index.js","/**\n * @file Instance of HakeJS component, handle whole lifecycle of component.\n * @author Dominic Ming <dom@mingdom.cn>\n */\n\nimport Dom from '../dom';\nimport Data from '../data';\nimport Msg from '../message';\nimport Parse from '../parse';\n\n/**\n * Origin setting for Hake Component.\n */\n\nconst defaultOption = {\n  data: {},\n  shadowDOM: false,\n  isRoot: false,\n  isHake: false,\n  created: ()=> {},\n  rendered: ()=> {},\n  mounted: ()=> {},\n  updated: ()=> {},\n  destroyed: ()=> {}\n};\n\n/**\n * Hake component is called HakeItem.\n * @class\n */\n\nexport default class HakeItem {\n  constructor(option) {\n    let config = Object.assign({}, defaultOption, option);\n    let __content;\n\n    if (!Dom.getOne(config.el)) {\n      Msg.error('Root component should have a element to mount.');\n      return;\n    }\n\n    if (!config.content) {\n      Msg.error('Component should have content.');\n      return;\n    }\n\n    if (config.content.innerHTML) {\n      config.content = config.content.innerHTML;\n    }\n\n    try {\n      if (config.isHake) {\n        __content = Parse.parseHake(config.content);\n      } else {\n        __content = Parse.parseDOM(config.content);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n    Data.dataSearch(__content);\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/item/index.js"],"sourceRoot":""}